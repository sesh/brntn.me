<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <title>Brenton Cleeland</title>

    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <header>
        <h1>Brenton Cleeland</h1>
        <nav>
            <a href="/posts/">Posts</a>
            <a href="/">Home</a>
        </nav>
    </header>

    <main>
    <article class="h-entry">
    <a href="/2017/03/20/11" class="u-url">
        <time class="post-date dt-published" datetime="2017-03-20T01:07:15.632Z">March 20, 2017</time>
    </a>

    <div class="e-content">
        <p><img src="https://cdn.filestackcontent.com/UWjVoxM0TvClhVz7FTGF" alt="" /></p>
<p>Quick and dirty <a href="https://getbitbar.com/">bitbar</a> script to show the current temperature and forecast in Melbourne.</p>
<pre><code class="language-python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import requests
from bs4 import BeautifulSoup

response = requests.get('http://www.bom.gov.au')
soup = BeautifulSoup(response.content, 'html.parser')

capitals = soup.find_all(attrs={'class': 'capital'})
melbourne = capitals[1]
now = melbourne.find(attrs={'class': 'now'})
temp = now.findChild().text.replace('°', '')

max_temp = melbourne.find_all(attrs={'class': 'max'})[-1].text.replace('°', '')

print(temp + 'C')
print('---')
print(melbourne.find('h3').text + ': ' + melbourne.find(attrs={'class': 'precis'}).text)
print('Currently: {}. Max: {}'.format(temp, max_temp))
print(melbourne.find(attrs={'class': 'wind'}).text)
print('---')
print('BOM Forecast|href=http://www.bom.gov.au/vic/forecasts/melbourne.shtml')
print('BayWX Chart|href=http://www.baywx.com.au/melbtemp2.html')
</code></pre>

    </div>
</article>
    </main>
</body>
</html>
