<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <!-- Force latest available IE rendering engine and Chrome Frame (if installed) -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <!-- Document Title & Description -->
        <title>Overnight Riding Checklist – Lightweight Bike Camping</title>

        <!-- Mobile Screen Resizing -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href='https://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/static/css/brntn.css" media="screen" title="no title" charset="utf-8">

        <style media="screen">
        .item {
          display: block;
        }
        .strikeout {
          text-decoration: line-through!important;
        }
        </style>
    </head>

    <body>
        <section class="container">
          <h3>Overnight Riding Checklist</h3>

          Brenton's three(-ish) season, overnight bike camping checklist.

          <p class="filters">
            Filters: <a href="#" data-hide="cooking">cooking</a>,
                     <a href="#" data-hide="coffee">coffee</a>,
                     <a href="#" data-hide="breakfast">breakfast</a>,
                     <a href="#" data-hide="dinner">dinner</a>,
                     <a href="#" data-hide="camping">camping</a>,
                     <a href="#" data-hide="casual">casual riding gear</a>
          </p>
        </section>

        <section class="container no-coffee">
          <p class="seriously">No coffee? Are you insane?</p>
        </section>

        <section class="container">
          <h4 class="camping">Sleeping Gear</h4>
          <span class="item camping">[ ] Tent (currently: MSR Hubba Hubba)</span>
          <span class="item camping">[ ] Sleeping Bag</span>
          <span class="item camping">[ ] Sleeping Mat (currently: Katmandu Hike 38)</span>
          <span class="item camping">[ ] (optional) Inflatable Pillow or stuff sack and hoody</span>


          <h4 class="cooking">Cooking (optional)</h4>
          <span class="item cooking">[ ] Trangia</span>
          <span class="item cooking">[ ] Methylated Spirits</span>
          <span class="item cooking">[ ] Matches</span>


          <h4>Food</h4>
          <span class="item">[ ] Clif Bars (or similar energy bars)</span>
          <span class="item dinner">[ ] Tuna &amp; Beans (or similar dense energy)</span>
          <span class="item breakfast">[ ] Oats / Muesili &amp; Long Life Milk</span>
          <span class="item breakfast dinner">[ ] Spoon / Fork / Knife</span>
          <span class="item coffee">[ ] KeepCup</span>
          <span class="item">[ ] Snacks</span>


          <h4 class="coffee">Coffee</h4>
          <span class="item coffee">[ ] Aeropress</span>
          <span class="item coffee">[ ] Grinder</span>
          <span class="item coffee">[ ] Aeropress Filters</span>
          <span class="item coffee">[ ] Coffee Beans</span>


          <h4>Clothing</h4>
          <span class="item">[ ] Waterproof Jacket</span>
          <span class="item casual">[ ] Riding shorts</span>
          <span class="item casual">[ ] Spare t-shirts for riding</span>
          <span class="item no-casual">[ ] Cycling jersey</span>
          <span class="item no-casual">[ ] Bibshorts</span>
          <span class="item">[ ] Jeans or Boardshorts</span>
          <span class="item">[ ] Underwear (preferably merino)</span>
          <span class="item">[ ] Socks for each day</span>
          <span class="item">[ ] (Winter) Hoodie or warm jacket</span>


          <h4>Tools</h4>
          <span class="item">[ ] Spare Tubes</span>
          <span class="item">[ ] Mini-pump</span>
          <span class="item">[ ] Multitool</span>
          <span class="item">[ ] Chain Breaker</span>
          <span class="item">[ ] Tyre Boot</span>
          <span class="item">[ ] Tyre Lever</span>
          <span class="item">[ ] Occy Straps</span>


          <h4>On Bike</h4>
          <span class="item">[ ] Lights</span>
          <span class="item">[ ] Two Large Drink Bottles</span>


          <h4>Hygene</h4>
          <span class="item">[ ] Toothbrush / Toothpaste</span>
          <span class="item">[ ] Baby Wipes</span>
        </section>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script charset="utf-8">

          var items = document.querySelectorAll('.item');
          for (var i = 0; i < items.length; i++) {
            items[i].addEventListener('click', function (e) {
              var el = e.target;
              if ( el.innerText.indexOf('✓') != -1) {
                el.innerText = el.innerText.replace('[✓]', '[ ]');
              } else {
                el.innerText = el.innerText.replace('[ ]', '[✓]');
              }
            });
          }

          var filters = document.querySelectorAll('.filters a');
          for (var i = 0; i < filters.length; i++) {
            // hide anything thats a "no show"
            var filter_hide_class = '.no-' + filters[i].getAttribute('data-hide');
            var elements_to_hide = document.querySelectorAll(filter_hide_class);
            for (var j = 0; j < elements_to_hide.length; j++) {
              var el3 = elements_to_hide[j];
              el3.style.display = 'none';
            }

            filters[i].addEventListener('click', function (e) {
              var el = e.target;
              el.classList.toggle('strikeout');

              // iterate through the filters and update the items with their current status
              for (var j = 0; j < filters.length; j++) {
                var el2 = filters[j];
                var filter_class = el2.getAttribute('data-hide');

                if (el2.classList.contains('strikeout')) {
                  var elements_to_hide = document.querySelectorAll('.' + filter_class);
                  for (var k = 0; k < elements_to_hide.length; k++) {
                    var el3 = elements_to_hide[k];
                    el3.style.display = 'none';
                  }

                  var elements_to_show = document.querySelectorAll('.no-' + filter_class);
                  for (var k = 0; k < elements_to_show.length; k++) {
                    var el3 = elements_to_show[k];
                    el3.style.display = 'block';
                  }
                } else {
                  var elements_to_show = document.querySelectorAll('.' + filter_class);
                  for (var k = 0; k < elements_to_show.length; k++) {
                    var el3 = elements_to_show[k];
                    el3.style.display = 'block';
                  }

                  var elements_to_hide = document.querySelectorAll('.no-' + filter_class);
                  for (var k = 0; k < elements_to_hide.length; k++) {
                    var el3 = elements_to_hide[k];
                    el3.style.display = 'none';
                  }
                }
              }
            });
          }
        </script>
    </body>
</html>
